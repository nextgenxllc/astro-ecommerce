---
import Layout from '../layouts/Layout.astro';
import ProductCard from '../components/ProductCard.astro';
// import type { Product } from '../types/products.types';

const response = await fetch('https://fakestoreapi.com/products');
const products = await response.json();

// ----------------------- READ THIS -----------------------
// this project uses Astro. here is the documentation: https://docs.astro.build/
// to get started with this project, change the content of this file and start coding!
// this project supports both vanilla css and tailwindcss
// use the one you prefer
// ----------------------- READ THIS --------------------
---


<Layout title="Welcome to NextGenX.">
	<main>
		
		<h1>Welcome to <span class="text-gradient">NextGenX</span></h1>
		<!-- example with tailwindcss -->
		<div class="my-4 space-y-2 border border-blue-500 p-4 bg-white rounded">
			To get started, open the directory <code class="font-bold bg-blue-600 text-white rounded py-1 px-2">src/pages</code> in your project.<br />
			Then edit this file and save to reload.<br />
			Feel free to remove everything in this file and start from scratch.
			<strong>Happy coding! ðŸš€</strong> 
			
		</div>
		
		<h2 class="text-2xl font-bold">Products</h2>
		<!-- example with vanilla css -->
		<div class="products-card-grid">
			<!-- 
				this demonstrates how to use external API to get data, this is optional too. 
				you can choose not to use it and delete this part of the code
			-->
			{products.map(({ image, title, price, description, rating }) => (
				<ProductCard
					image={image}
					title={title}
					price={price}
					description={description}
					rating={rating}
				/>
			))}
		</div>
	</main>
</Layout>

<style>
	main {
		margin: auto;
		padding: 1.5rem;
		max-width: 80ch;
	}
	h1 {
		font-size: 3rem;
		font-weight: 800;
		margin: 0;
	}
	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.products-card-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(24ch, 1fr));
		gap: 1rem;
		padding: 0;
	}
</style>
<!-- feel free to remove everything in this file and start from scratch. Happy coding  -->